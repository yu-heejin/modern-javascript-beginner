## 생성자로 객체 생성하기

- Java, C++ 등은 같은 프로퍼티를 갖는 객체를 여러 개 생성하는 수단으로 클래스(class)를 제공한다.
- 그러나 자바스크립트에는 클래스가 없다.
    - 대신 **생성자라고 하는 함수로 객체를 생성**할 수 있다.

### 간단한 예

- 아래 코드는 트럼프 카드를 표현하는 객체를 생성하는 생성자이다.
    
    ```jsx
    function Card(suit, rank) {
    	this.suit = suit;
    	this.rank = rank;
    }
    ```
    
- 생성자로 객체를 생성할 때는 `new` 연산자를 사용한다.
    
    ```jsx
    var card = new Card("하트", "A");
    ```
    
    - 해당 코드를 실행하면 suit 프로퍼티에는 “하트”, rank 프로퍼티에는 “A”라는 값이 저장된 객체가 생성되고, 마지막으로 그 객체의 참조가 변수 card에 할당된다.
    - 이 때 **Card 생성자로 생성한 객체를 Card 객체라고 부른다.**

### 생성자

- `new` 연산자로 객체를 생성할 것이라 기대하고 만든 함수를 생성자라고 부른다.
- 생성자 이름은 관례적으로 그것이 생성자임을 알리기 위해 첫 글자를 대문자로 쓰는 파스칼 표기법을 사용한다.
- 생성자 안에서 `this.프로퍼티 이름`에 값을 대입하면 **그 이름을 가진 프로퍼티에 값이 할당된 객체가 생성된다.**
    - 이 때 `this`는 생성자가 생성하는 객체를 가리킨다.
- 위 예시는 다음과 같이 객체 리터럴로 고쳐쓸 수 있다.
    
    ```jsx
    var card = {};
    card.suit = "하트";
    card.rank = "A";
    ```
    
- 생성자와 `new` 연산자로 생성한 객체를 그 생성자의 인스턴스라고 부른다.
    - 인스턴스에는 실체라는 뜻이 있다.
    - 객체지향 언어에서 인스턴스는 클래스로 생성한 실체를 뜻한다.
    - 이 때 **클래스는 객체를 실체로 만들기 위한 설계도고, 그 설계도로 생성한 실체가 바로 인스턴스이다.**
- 자바스크립트에는 클래스가 없고, **생성자 자체가 함수 객체라는 실체이다.**
    - 따라서 자바스크립트 생성자로 생성한 객체는 엄밀히 말해 인스턴스가 아니다.
    - 그러나 생성자가 클래스처럼 객체를 생성하는 역할을 담당하고 있으므로 생성자로 생성한 객체도 인스턴스라고 부르는 것이 관례이다.

### 생성자의 역할

- 생성자는 **객체를 생성하고 초기화하는 역할**을 한다.
- 생성자를 사용하면 이름은 같지만 프로퍼티 값이 다른 객체(인스턴스) 여러 개를 간단히 생성할 수 있다.
- 다음 코드는 생성자 `Card`를 사용하여 트럼프 카드를 표현하는 객체를 생성하고 변수 여러 개에 저장한다.
    
    ```jsx
    var card1 = new Card("하트", "A");
    var card2 = new Card("클럽", "K");
    var card3 = new Card("스페이드", "2");
    ```
    
- 생성자는 함수이므로 프로퍼티에 값을 대입할 수 있고, 다른 함수와 마찬가지로 다양한 처리를 할 수도 있다.
    - 이를 활용하면 객체를 생성할 때 초기화 작업을 병행할 수 있다.
        
        ```jsx
        function Particle(x, y, vx, vy) {
        	this.x = x;
        	this.y = y;
        	this.vx = vx;
        	this.vy = vy;
        	this.velocity = Math.sqrt(vx * vx + vy * vy);   // 초기화 작업 병
        }
        
        var p = new Particle(0, 0, 3, 4);
        console.log(p);  // Particle {x:0, y:0, vx:3, vy:4, velocity:5}
        ```
        
    

## 메서드를 가진 객체를 생성하는 생성자

- 생성자에서 `this.프로퍼티 이름`에 함수의 참조를 대입하면 메서드를 정의할 수 있다.
    
    ```jsx
    function Circle(center, radius) {
    	this.center = center;
    	this.radius = radius;
    	this.area = function() {
    		return Math.PI * this.radius * this.radius;
    	}
    }
    ```