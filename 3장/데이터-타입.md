## 데이터 타입과 변수의 동적 타이핑

- 데이터 타입이란 **숫자나 문자열처럼 변수에 저장하는 데이터 종류**를 뜻한다.
- C, Java처럼 **변수에 타입이 있는 언어를 가리켜 정적 타입 언어(static typed language)**라고 부른다.
- 자바스크립트의 경우 변수에 타입이 없으므로 변수에 모든 타입의 데이터를 저장할 수 있다.
    
    ```jsx
    var pi = 3.14;
    console.log(pi);   // 3.14
    
    pi = "원주율";
    console.log(pi);   // 원주율
    ```
    
    - 변수 pi에 숫자를 저장했지만 그 후에도 ‘원주율’이라는 문자열을 대입할 수 있다.
    - 즉, **자바스크립트에서는 같은 변수에 숫자나 문자열과 같은 다양한 타입의 데이터를 대입**할 수 있다.
    - 실행할 때 **변수에 저장된 데이터 타입을 동적으로 바꿀 수 있는 언어를 가리켜 동적 타입 언어(dynamic typed language)**라고 부른다.
- 자바스크립트는 동적 타입 언어이기 때문에 프로그램을 실행할 때 발생하는 타입 변환에 주의하여 변수에 어떤 타입의 데이터가 저장되는지 확인해야 한다.

## 데이터 타입의 분류

- 자바스크립트의 데이터 타입은 크게 **원시 타입(primitive type)과 객체 타입**으로 나눌 수 있다.

### 원시 타입

- 원시 타입에 속하는 값은 **숫자, 문자열, 논리값**이 있다.
    - *참고로 자바에서는 문자열 타입이 객체 타입이다.*
- **undefined, null, symbol**도 원시 타입에 속한다.
    - symbol은 ES6부터 새로 추가된 값이다.
- 원시 타입 데이터는 데이터를 구성하는 가장 기본적인 요소로 **불변 값(값을 바꿀 수 없는 데이터)으로 정의**되어 있다.
- 원시 타입의 값은 원시 값이라고 하며, 원시 값을 변수에 대입하면 변수에 그 값이 저장된다.

### 객체

- 원시 타입에 속하지 않는 자바스크립트 값
- 객체는 변수 여러 개가 모여서 만들어진 복합 데이터 타입이다.
- **객체 안에 저장된 값은 바꿀 수 있다.**
- **객체는 참조 타입**이기 때문에 **객체 타입의 값을 변수에 대입하면 변수에는 그 객체에 대한 참조(메모리에서의 위치 정보)가 할당된다.**
- **배열, 함수, 정규 표현식**과 같은 다양한 요소가 객체이다.

## 숫자

- 대부분의 프로그래밍 언어는 정수 타입과 부동소수점 타입이 따로 있지만, **자바스크립트는 타입이 없기 때문에 숫자를 모두 64비트 부동소수점으로 표현한다.**
    - 즉, 정수형과 실수형 구분 없이 모두 저장한다.
    - 이는 double 타입과 유사하다.

## 문자열

- 문자열 리터럴은 작은 따옴표나 큰 따옴표를 문자열 앞 뒤에 붙여서 표현한다.
    
    ```jsx
    'without haste, but without rest.'
    "서두르지 말라. 그러나 쉬지도 말라."
    ""
    '3.14'
    ```
    
- 문자열 안에 작은 따옴표가 포함되었다면 큰 따옴표로 묶어서 표현할 수 있고, 큰 따옴표가 포함되었다면 작은 따옴표로 묶어서 표현할 수 있다.
    
    ```jsx
    "I'm going to learn Javascript."
    ```
    
- 자바스크립트를 HTML 요소에 끼워넣을 때는 자바스크립트 프로그램을 문자열로 작성한다.
    
    ```jsx
    <input type="button" value="Click" onClick="alert('thanks!')">
    ```
    
    - 이 땐 HTML 코드에는 큰 따옴표를 사용하고 자바스크립트 코드에는 작은 따옴표를 사용해 구분하는 것이 좋다.
- 줄 바꿈 문자와 탭 문자는 문자열에 그대로 추가할 수 없다. → 이스케이프 문자로 표현해야한다.
    - 예를 들어, 문자열에 포함된 작은 따옴표를 작은 따옴표로 묶은 문자열 안에 넣을 때는 다음과 같이 사용한다.
        
        ```jsx
        'I\'m going to learn Javascript.'
        ```
        

## 특수한 값

- ‘값이 없음’을 표현하기 위한 특수한 값에는 **null, undefined**가 있다.

### undefined

- 정의되지 않은 상태
- 다음과 같은 값이 undefined이다.
    - 값을 아직 할당하지 않은 변수의 값
    - 없는 객체의 프로퍼티를 읽으려고 시도했을 때의 값
    - 없는 배열의 요소를 읽으려고 시도했을 때의 값
    - 아무것도 반환하지 않는 함수가 반환하는 값
    - 함수를 호출했을 때 전달받지 못한 인수의 값
- 이 때 변수 값이 **undefined가 되는 것은 값을 할당하지 않은 결과**라는 사실을 기억하라.
    - 코드로 undefined를 대입한 것이 아니라 **자바스크립트 엔진이 변수를 undefined로 초기화한 것**
    - 또한, 자바스크립트 전역 변수에도 똑같은 이름의 undefined가 있고, 그 초깃값은 undefined라는 원시값이다.
    - **ECMAScript 5에서는 전역 변수 undefined 값을 수정할 수 없다.**

### null

- 아무것도 없음을 값으로 표현한 리터럴이다.
- null은 주로 **프로그램에서 무언가를 검색했지만 찾지 못했을 때 아무것도 없음을 전달**하기 위한 값
- 따라서 값을 읽을 때 그 값이 null인지 아닌지 확인해야 하는 상황이 자주 발생한다.

## ES6부터 추가된 데이터 타입(1) - 심벌

- **자기 자신을 제외한 그 어떤 값과도 다른 유일무이한 값**

### 심벌의 생성

- 심벌은 Symbol()을 사용하여 생성한다.
- Symbol()은 호출할 때마다 새로운 값을 만든다.
    
    ```jsx
    var sym1 = Symbol();
    var sym2 = Symbol();
    
    console.log(sym1 == sym2);   // false
    ```
    
- Symbol()에 인수를 전달하면 생성된 심벌의 설명을 덧붙일 수 있다.
    
    ```jsx
    var HEART = Symbol("하트");
    ```
    
- 심벌의 설명은 toString() 메서드를 사용해서 확인할 수 있다.
    
    ```jsx
    console.log(HEART.toString());   // Symbol(하트)
    ```
    

### 오셀로 게임 예시

- 다음과 같이 칸의 상태를 숫자와 같은 값으로 표현한다고 가정하자.
    
    ```jsx
    var NONE = 0;   // 칸에 돌이 놓여 있지 않은 상태
    var BLACK = -1;   // 칸에 검은 돌이 놓여 있는 상태
    var WHITE = 1;   // 칸에 흰 돌이 놓여 있는 상태
    ```
    
    - 칸의 상태를 cell이라는 변수에 저장한다고 가정했을 때, cell 값을 확인하려면 cell == WHITE라고 작성해야 프로그램이 읽기 쉽다.
    - cell == 1이라고 작성해도 아무런 문제없이 동작한다.
    - 하지만, 이러한 행위는 프로그램을 읽기 어렵게 만들기 떄문에 바람직하지 않다.
- 심벌을 사용하면 위와 같은 문제를 해결할 수 있다.
    
    ```jsx
    var NONE = Symbol("none");   // 칸에 돌이 놓여 있지 않은 상태
    var BLACK = Symbol("black");   // 칸에 검은 돌이 놓여 있는 상태
    var WHITE = Symbol("white");   // 칸에 흰 돌이 놓여 있는 상태
    ```
    
    - 위와 같이 수정하면 변수 cell 값을 확인할 때 NONE, BLACK, WHITE만 사용하도록 제한할 수 있다.

### 심벌과 문자열 연결하기

- Symbol.for()를 활용하면 문자열과 연결된 심벌을 생성할 수 있다.
    
    ```jsx
    var sym1 = Symbol.for("club");
    ```
    
    - 이렇게 하면 전역 레지스트리에 심벌이 만들어진다.
- 전역 레지스트리에서 그 심벌을 위에 지정한 문자열로 불러올 수 있다.
    
    ```jsx
    var sym2 = Symbol.for("club");
    console.log(sym1 == sym2);   // true
    ```
    
    - 이 기능을 활용하면 코드의 어느부분에서도 같은 심벌을 공유할 수 있다.
- 심벌과 연결된 문자열은 Symbol.keyFor()로 구할 수 있다.
    
    ```jsx
    var sym1 = Symbol.for("club");
    var sym2 = Symbol("club");
    
    console.log(Symbol.keyFor(sym1));  // club
    console.log(Symbol.keyFor(sym2));  // undefined
    ```